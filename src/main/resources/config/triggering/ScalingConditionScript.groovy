package config.triggering

import org.ow2.proactive.brokering.monitoring.InfrastructureMonitoring
import org.ow2.proactive.brokering.monitoring.SingletonMonitoring
import org.ow2.proactive.brokering.triggering.Condition

public class ScalingConditionScript implements Condition {

    public boolean evaluate(Map<String, String> args) throws Exception {
        InfrastructureMonitoring mon =
            SingletonMonitoring.getInfrastructureMonitoring(
                    "service:jmx:rmi:///jndi/rmi://localhost:5922/JMXRMAgent",
                    "OPEN_STACK_MONITORING");
        System.out.println("Amount of Hosts: " + mon.getHosts().length);
        System.out.println("Amount of VMS: " + mon.getVMs().length);

        return false;
    }
}