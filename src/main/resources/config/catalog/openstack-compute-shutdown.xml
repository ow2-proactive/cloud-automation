<?xml version="1.0" encoding="UTF-8"?>
<job xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="urn:proactive:jobdescriptor:3.1"
     xsi:schemaLocation="urn:proactive:jobdescriptor:3.1 http://www.activeeon.com/public_content/schemas/proactive/jobdescriptor/3.1/schedulerjob.xsd"
     name="openstack-compute-shutdown">
    <variables>
        <variable name="iaas.provider.name"/>
        <variable name="iaas.provider.api.url"/>
        <variable name="iaas.provider.api.user"/>
        <variable name="iaas.provider.api.password"/>
        <variable name="iaas.provider.api.tenant"/>
        <variable name="occi.compute.vendor.uuid"/>
    </variables>
    <genericInformation>
        <info name="category" value="compute"/>
        <info name="operation" value="update"/>
        <info name="action" value="stop"/>
        <info name="provider" value="openstack"/>
    </genericInformation>

    <taskFlow>
        <task name="shutdown-task">
            <javaExecutable class="org.ow2.proactive.iaas.IaasUndeployExecutable">
                <parameters>
                    <parameter name="instanceId" value="${occi.compute.vendor.uuid}"/>
                    <parameter name="providerName" value="${iaas.provider.name}"/>
                    <parameter name="apiurl" value="${iaas.provider.api.url}"/>
                    <parameter name="username" value="${iaas.provider.api.user}"/>
                    <parameter name="password" value="${iaas.provider.api.password}"/>
                    <parameter name="tenantName" value="${iaas.provider.api.tenant}"/>
                </parameters>
            </javaExecutable>
        </task>
    </taskFlow>
</job>
