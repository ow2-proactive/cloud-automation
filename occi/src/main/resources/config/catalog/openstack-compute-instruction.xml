<?xml version="1.0" encoding="UTF-8"?>
<job xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="urn:proactive:jobdescriptor:3.1"
     xsi:schemaLocation="urn:proactive:jobdescriptor:3.1 http://www.activeeon.com/public_content/schemas/proactive/jobdescriptor/3.1/schedulerjob.xsd"
     name="openstack-compute-instruction">
    <variables>

        <variable name="occi.compute.proactive.node.token"/>
        <variable name="occi.compute.instruction.path"/>
        <variable name="occi.compute.instruction.arg1" value=""/>
        <variable name="occi.compute.instruction.arg2" value=""/>
        <variable name="occi.compute.instruction.arg3" value=""/>
        <variable name="occi.compute.instruction.arg4" value=""/>
        <variable name="occi.compute.instruction.arg5" value=""/>

    </variables>
    <genericInformation>
        <info name="category" value="instruction"/>
        <info name="operation" value="create"/>
        <info name="provider" value="openstack"/>
    </genericInformation>

    <taskFlow>
        <task name="instruction-task">
            <genericInformation>
                <info name="NODE_ACCESS_TOKEN" value="${occi.compute.proactive.node.token}"/>
            </genericInformation>

            <nativeExecutable>
                <staticCommand
                        value="/bin/bash">
                    <arguments>
                        <argument value="-c"/>
                        <argument
                                value="${occi.compute.instruction.path} ${occi.compute.instruction.arg1} ${occi.compute.instruction.arg2} ${occi.compute.instruction.arg3} ${occi.compute.instruction.arg4} ${occi.compute.instruction.arg5}"/>
                    </arguments>
                </staticCommand>
            </nativeExecutable>
        </task>
    </taskFlow>
</job>
